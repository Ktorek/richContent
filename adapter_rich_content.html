<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girlanda solarna Sollis Lumiled 20m z pilotem</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-green: #5BBA35;
            --dark-text: #292929; 
            --hotspot-size: 4.8cqi; /* Jeszcze bardziej powiększony rozmiar hotspotu */
            --tooltip-padding-x: 2cqi; /* Dodatkowo zwiększony poziomy padding w tooltipie */
        }

        /* POPRAWKA Z-INDEX - nagłówek nad obrazkiem pilota */
        .panel-functions-header{
            position: relative;   /* tworzy stacking context */
            z-index: 3;           /* wyżej niż 1 ustawiony na .pilot-image-container */
        }

        /* specyficzne dla girlandy - usuwa linie dolną */
        #projector_in_bundle.hotspot {
            border-bottom: none !important;
        }

        .carousel::-webkit-scrollbar {
            display: none;
        }

        .main-container {
            max-width: 80%;
            margin: 0 10%;
            font-family: "Roboto", sans-serif;
        }

        .section {
            margin-bottom: 0;
        }

        /* Sekcja 1 - Header produktu */
        .product-header {
            background-color: #f5f5f5;
            margin-top: 0.977cqi;
            padding-left: 2.442cqi;
            padding-top: 0;
            padding-bottom: 0;
            padding-right: 0;
            display: flex;
            container-type: inline-size;
            align-items: stretch;
            gap: 1.953cqi;
        }

        .product-info {
            flex: 2;
            padding-top: 30px;
            padding-bottom: 30px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .brand-logo {
            color: var(--brand-green);
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.758cqi;
            margin-bottom: 0.977cqi;
        }

        .brand-logo img {
            height: 3.906cqi;
        }
        
        .product-title-group {
            overflow: hidden; /* FIX: Zapobiega wychodzeniu linii poza kontener */
        }

        .product-title-group .green-line {
            width: 3.906cqi;
            height: 0.293cqi;
            background-color: var(--brand-green);
            margin-top: 0.489cqi;
            /* transition: transform 0.3s ease; Usunięto dla nowej animacji */
        }

        .product-pre-title {
            font-weight: 200;
            font-size: 1.853cqi;
            line-height: 1;
            color:#292929;
            margin: 0 0 2.477cqi 0;
        }

        .product-title {
            font-size: 5.188cqi;
            font-weight: bold;
            color: var(--dark-text);
            margin: 0;
            line-height: 1;
        }

        .product-subtitle {
            font-size: 3.153cqi;
            color: var(--dark-text);
            margin-bottom: 0.01cqi;
            margin-top: 3px;
            line-height: 1;
        }

        .product-description {
            font-size: 1.367cqi;
            color: var(--dark-text);
            line-height: 1.4;
        }

        .product-image {
            flex: 3;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            max-height: 450px; /* Dodane ograniczenie maksymalnej wysokości */
            object-position: 0% 60%; /* Przesunięcie obrazka do góry (środek poziomo, góra pionowo) */
            object-fit: cover;
            border-radius: 0;
            transition: transform 0.3s ease;
        }

        .product-image:hover img {
            transform: scale(1.05);
        }

        /* Sekcja 2 - Cechy produktu */
        .features-section {
            background-color: white;
            padding: 40px 40px;
        }

        .features-grid {
            display: grid; /* Przywrócenie do grid */
            justify-content: center; /* Centruje elementy w poziomie */
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Dynamiczna siatka z centrowaniem */
            gap: 0px;
        }

        .feature-item {
            text-align: center;
            padding: 1px 5px;
            container-type: inline-size;
            cursor: pointer;
        }
        
        .feature-icon {
            width: 60cqi;
            height: 60cqi;
            margin: 0 auto 10px;
            border-radius: 50%;
            transition: transform 0.5s ease;
        }
        
        .feature-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .feature-item:hover .feature-icon {
            transform: scale(1.15);
        }

        .feature-description {
            font-size: 7.6cqi;
            color: #666;
            line-height: 1.3;
            padding: 0 10%;
        }

        /* Sekcja 3 - Call to action */
        .cta-section {
            background-image: url('https://leddo.pl/data/include/cms/RICH_CONTENT/LUMSOLZES/grafiki_girlanda_2.webp'); /* Poprawiony URL */
            background-size: cover;
            background-position: center;
            width: 100%;
            aspect-ratio: 1921 / 288;
            display: flex;
            align-items: center;
            justify-content: center;
            container-type: inline-size;
        }

        #rich-content-wrapper .cta-main-title {
            font-size: 4cqi;
            font-weight: bold;
            color: white;
            margin: 0;
            line-height: 1;
            text-align: center;
        }
        
        #rich-content-wrapper #cta-title {
            color: white !important;
        }

        /* Sekcja 4 - Schemat Girlandy */
        .schematic-section {
            background-color: white; /* Zmiana tła na białe */
            padding-top: calc(1.2cqi + 40px); /* Zwiększony o 40px */
            padding-right: 0;
            padding-bottom: 0; /* Usunięto dolny padding */
            padding-left: 0;
            display: flex;
            flex-direction: column; /* Ustawienie kierunku na kolumnę */
            align-items: stretch; /* Rozciągnięcie dzieci na całą szerokość */
            gap: 0; /* Usunięty odstęp między blokiem tekstowym a obrazkiem */
            container-type: inline-size;
        }

        .schematic-text-content-area { /* Nowy kontener dla treści tekstowej w rzędzie */
            display: flex;
            gap: 0; /* Usunięty odstęp między lewą a prawą kolumną tekstu */
            width: 100%;
            align-items: flex-start; /* Aby kolumny nie rozciągały się pionowo nierówno */
            position: relative; /* Konieczne dla z-index */
            z-index: 10; /* Ustawia tekst ponad obrazkiem */
        }

        .schematic-description-area { /* Nowy kontener dla opisu (lewa kolumna) */
            flex: 1; /* Zajmuje pozostałą przestrzeń (55%) */
            text-align: left;
        }

        .schematic-content {
            flex: 0 0 45%; /* Lewa kolumna zajmuje 45% szerokości */
            overflow: hidden; /* FIX: Zapobiega wychodzeniu linii poza kontener */
            text-align: left; /* Wyrównanie tekstu do lewej */
        }

        #rich-content-wrapper .schematic-title {
            font-size: 3.906cqi;
            font-weight: bold;
            color: var(--dark-text);
            line-height: 1.1;
            /* text-align: left; - dziedziczone z .schematic-content */
        }

        .schematic-green-line {
            width: 3.906cqi;
            height: 0.293cqi;
            background-color: var(--brand-green);
            margin-top: 0cqi; /* Zmniejszony margines górny, aby zmniejszyć odstęp od h2 */
            margin-bottom: 2.442cqi;
            margin-left: 0; /* Zapewnienie wyrównania do lewej */
            /* transition: transform 0.3s ease; Usunięto dla nowej animacji */
        }

        #rich-content-wrapper .schematic-subtitle {
            font-size: 2cqi; /* Lekko powiększony napis */
            color: var(--dark-text);
            font-weight: 200; /* Dopasowanie do .product-pre-title */
            line-height: 1; /* Dopasowanie do .product-pre-title */
            /* letter-spacing: 0.05em; - Usunięte, aby bardziej pasowało */
            margin-bottom: 1.953cqi;
            /* text-align: left; - dziedziczone z .schematic-content */
        }

        #rich-content-wrapper .schematic-description {
            font-size: 1.8cqi; /* Ustawiony rozmiar czcionki */
            color: #555; /* Lekko ciemniejszy tekst dla czytelności */
            line-height: 1.6;
            font-weight: 200; /* Zmniejszona grubość czcionki */
            margin-top: 3.7cqi; /* Dodano margines górny, aby przesunąć tekst niżej */
            padding-right: 3.6cqi;
        }

        .schematic-image-container {
            width: 100%; /* Obrazek zajmuje całą dostępną szerokość */
            /* usunięto stary flex: 3; */
            padding: 1.5cqi; /* Dodany padding wokół obrazka */
            position: relative; /* Umożliwia pozycjonowanie absolutne hotspotów */
            transform: translateY(-100px); /* Przesunięcie całego kontenera obrazka o 100px do góry */
            z-index: 1; /* Ustawia obrazek pod tekstem */
        }

        .schematic-image-container > img { /* Zmieniono selektor, aby dotyczył tylko bezpośredniego dziecka (głównego obrazka) */
            width: 100%;
            height: auto;
            display: block;
            /* transform: translateY(0); */ /* Usunięto transform z img, bo jest na kontenerze */
        }

        .schematic-image-caption {
            text-align: center;
            margin-top: 3cqi; /* Zwiększony margines górny, aby zwiększyć przerwę od zdjęcia */
            font-size: 1.5cqi;
            color: #555;
            line-height: 1.4;
            font-weight: 300;
            display: flex; /* Added: Use flexbox for alignment */
            align-items: center; /* Added: Vertically align items */
            justify-content: flex-start; /* Changed: Align content to the left */
            gap: 0.5cqi; /* Added: Space between text and icon */
        }

        .schematic-image-caption p {
            margin: 0; /* Remove default paragraph margin */
            text-align: left; /* Ensure text is left-aligned within its flex item */
        }

        .schematic-caption-icon {
            width: 40px;
            height: 40px;
            object-fit: contain; /* Maintain aspect ratio and fit within bounds */
        }

        /* Sekcja 5 - Adapter i jego funkcje */
        .pilot-image-container {
            width: 66.5%; /* Zmniejszenie szerokości o 30% i dodatkowe 5% (było 70%) */
            margin-left: auto; /* Centrowanie kontenera */
            margin-right: auto; /* Centrowanie kontenera */
            margin-top: -7cqi; /* Zwiększone przesunięcie do góry (było -5cqi) */
            position: relative; /* Kluczowe dla pozycjonowania hotspotów i z-index */
            z-index: 1 !important; /* Ustawia obrazek pod tekstem, usunięto !important */
            transform: translateZ(0); /* Tworzy nowy kontekst nakładania, aby z-index działał poprawnie */
        }

        .sollis-hotspot {
            position: absolute;
            width: var(--hotspot-size);
            height: var(--hotspot-size);
            background-color: var(--brand-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: transform 0.1s ease-in-out; /* Zmieniony czas i funkcja przejścia dla płynniejszego efektu */
            border: none; /* Usunięcie domyślnego obramowania przycisku */
            padding: 0; /* Usunięcie domyślnego paddingu przycisku */
            overflow: visible; /* Pozwala tooltipowi wyjść poza hotspot */
        }

        .sollis-hotspot:hover {
            transform: scale(1.05);
        }

        .hotspot-plus {
            color: white;
            font-size: calc(var(--hotspot-size) * 1.05); /* Jeszcze bardziej zwiększony mnożnik dla większego plusa */
            font-weight: bold;
            line-height: 1;
            user-select: none;
        }

        #rich-content-wrapper .sollis-tooltip {
            position: absolute;
            left: -5px; /* Lewa krawędź tooltipa 5px na lewo od lewej krawędzi hotspotu */
            /* left: calc(100% + 0.5cqi); */ /* Odsuwa tooltip w prawo od hotspotu */
            top: 50%;
            transform: translateY(-50%);
            height: calc(var(--hotspot-size) * 1.2); /* Tooltip o 20% wyższy niż hotspot */
            /* min-height: calc(var(--hotspot-size) * 0.8); */ /* Zapewnia minimalną wysokość, ale pozwala na rozszerzenie */
            /* height: auto; */ /* Pozwala na dopasowanie wysokości do treści */
            background-color: rgba(255, 255, 255, 0.87); /* Ustawiona przezroczystość na 0.87 */
            color: var(--dark-text) !important; /* Dodano !important dla większej odporności */
            font-family: "Roboto", sans-serif;
            font-size: calc(var(--hotspot-size) * 0.45);
            padding: 0.4cqi var(--tooltip-padding-x); /* Dodatkowo zwiększony padding pionowy i użycie zwiększonego poziomego */
            border-radius: calc(var(--hotspot-size) * 1.2 / 2); /* Kształt pigułki dostosowany do nowej wysokości */
            box-sizing: border-box;
            display: flex !important; /* Dodano !important dla większej odporności */
            align-items: center;
            white-space: nowrap; /* Zapobiega zawijaniu krótkiego tekstu */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 20; /* Nad innymi elementami */
            box-shadow: 0 2px 8px rgba(0,0,0,0.15); /* Subtelny cień */
        }
        
        /* Custom background for pilot section */
        #rich-content-wrapper .pilot-section-custom-bg {
            background-color: white;
            margin-top: -100px; /* Przesunięcie sekcji do góry, aby skompensować przesunięcie obrazka z sekcji 4 */
            position: relative; /* Ensure a stacking context for its children */
            z-index: 0; /* Base z-index for the section */
            padding-bottom: 0; /* Zmniejszenie paddingu dolnego do 0 dla tej sekcji */
            margin-bottom: 0; /* Zmniejszenie marginesu dolnego do 0 dla tej sekcji */
        }

        #rich-content-wrapper .sollis-tooltip.position-left {
            left: auto; /* Usuwa domyślne pozycjonowanie z lewej */
            right: -5px; /* Prawa krawędź tooltipa 5px na prawo od prawej krawędzi hotspotu */
            /* right: calc(100% + 0.5cqi); */ /* Odsuwa tooltip w lewo od hotspotu */
            /* Ensure vertical alignment is maintained */
            top: 50%;
            transform: translateY(-50%);
        }
        
        #rich-content-wrapper .sollis-hotspot.active .sollis-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .sollis-hotspot.active {
            z-index: 15; /* Wyższy z-index dla aktywnego hotspotu, aby był nad innymi nieaktywnymi */
        }
        
        /* Sekcja 6 - Grid doboru mocy adaptera */
        .power-grid-container {
            padding: 0 1.5cqi;
            box-sizing: border-box; /* Zachowaj box-sizing */
        }

        .power-adapter-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr); /* 7 równych kolumn */
            grid-template-rows: auto auto; /* 2 rzędy - pierwszy automatyczna wysokość, drugi według aspect-ratio */
            gap: 1px;
            width: 100%;
        }

        /* Pierwszy rząd - komórki z mocami */
        .power-cell {
            background-color: #f5f5f5; /* Szare tło jak w sekcji 1 */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5cqi;
            color: var(--dark-text);
            padding: 8px 8px; /* Zmniejszony padding pionowy */
            border: none; /* Usunięto obramowanie */
            min-height: 34px; /* Zmniejszona minimalna wysokość */
        }

        /* Pierwsze dwie komórki w pierwszym rzędzie - zajmują po 2 kolumny */
        .power-cell.power-wide {
            grid-column: span 2;
        }

        /* Drugi rząd - komórki z produktami */
        .product-cell {
            aspect-ratio: 7/10; /* Ustawiono proporcje szerokość/wysokość na 7/10 */
            background-size: 120%; /* Domyślnie obrazek jest 150% większy */
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border: none; /* Usunięto obramowanie */
            text-decoration: none; /* Usunięto podkreślenie linku */
            color: inherit; /* Dziedziczenie koloru */
            cursor: pointer; /* Kursor wskaźnika */
            overflow: hidden; /* Ukrywa nadmiar obrazka */
            transition: background-size 0.3s ease; /* Płynna animacja obrazka */
        }

        .product-cell::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1;
            transition: background 0.3s ease; /* Płynna animacja nakładki */
        }

        .product-text {
            color: white;
            font-weight: normal; /* Zmieniono na cieńszą czcionkę */
            font-size: 1.6cqi; /* Zwiększono rozmiar czcionki */
            text-align: center;
            line-height: 1.2;
            position: relative;
            z-index: 2;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            transition: transform 0.3s ease; /* Płynna animacja tekstu */
        }

        /* Hover efekty dla komórek produktów */
        .product-cell:hover {
            background-size: 100%; /* Na hover obrazek wraca do normalnych rozmiarów */
        }

        .product-cell:hover .product-text {
            transform: scale(1.1); /* Powiększenie tekstu na hover */
        }

        .product-cell:hover::before {
            background: rgba(0, 0, 0, 0.3); /* Rozjaśnienie nakładki podczas hover */
        }

        /* Sekcja 7 - Galeria Inspiracji */
        .inspiration-gallery-wrapper {
            position: relative;
            width: 100%;
        }
        
        .inspiration-gallery-wrapper::before,
        .inspiration-gallery-wrapper::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 10%; /* Szerokość gradientu */
            z-index: 2;
            pointer-events: none; /* Umożliwia klikanie przez gradient */
        }
        
        .inspiration-gallery-wrapper::before {
            left: 0;
            background: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%);
        }
        
        .inspiration-gallery-wrapper::after {
            right: 0;
            background: linear-gradient(to left, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%);
        }

        .gallery-scroll-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
            gap: 0; /* Usunięty odstęp między slajdami */
            padding: 0 1.5cqi; /* Padding, aby skrajne slajdy nie były ucięte */
        }

        .gallery-scroll-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, and Opera */
        }

        .gallery-slide {
            flex: 0 0 32%; /* Każdy slajd zajmuje ok. 1/3 szerokości */
            scroll-snap-align: center;
            aspect-ratio: 4 / 3;
        }

        .gallery-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-arrow {
            position: absolute;
            top: calc(50% - 1.5cqi); /* Dostosowanie do centrowania względem obrazów, uwzględniając wysokość nawigacji kropkowej */
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 1); /* Zwiększone krycie tła dla lepszej widoczności */
            border: none;
            border-radius: 50%;
            width: 4.5cqi; /* Lekko powiększony przycisk */
            height: 4.5cqi; /* Lekko powiększony przycisk */
            cursor: pointer;
            z-index: 3;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2cqi;
            color: var(--dark-text);
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .gallery-arrow:hover {
            background-color: white;
            transform: translateY(-50%) scale(1.1);
        }

        .gallery-arrow.prev { left: 3%; }
        .gallery-arrow.next { right: 3%; }
        .gallery-arrow:disabled { opacity: 0.3; cursor: not-allowed; }

        .gallery-dots-nav {
            text-align: center;
            margin-top: 2cqi;
        }

        #rich-content-wrapper .gallery-dots-nav .dot {
            display: inline-block;
            width: 1.2cqi; /* Lekko powiększone dla lepszej widoczności */
            height: 1.2cqi; /* Lekko powiększone dla lepszej widoczności */
            border-radius: 50%;
            background-color: #e0e0e0; /* Jaśniejszy szary dla nieaktywnych kropek */
            border: 1px solid #d0d0d0; /* Subtelne obramowanie */
            margin: 0 0.5cqi;
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
            padding: 0; /* Usunięcie domyślnego paddingu przycisku */
            box-sizing: border-box; /* Wymiary uwzględniają padding i border */
            font-size: 0; /* Zapobiega wpływowi rozmiaru czcionki na wysokość */
            line-height: 0; /* Zapobiega wpływowi wysokości linii na wysokość */
        }
        
        #rich-content-wrapper .gallery-dots-nav .dot.active {
            background-color: var(--brand-green); /* Użycie koloru marki dla aktywnej kropki */
            border-color: #4FA32E; /* Ciemniejszy zielony dla obramowania aktywnej kropki */
            transform: scale(1.2); /* Lekkie powiększenie aktywnej kropki */
        }

        #rich-content-wrapper .gallery-dots-nav .dot:not(.active):hover {
            background-color: #d0d0d0; /* Ciemniejszy szary przy najechaniu na nieaktywną kropkę */
            border-color: #c0c0c0; /* Ciemniejsze obramowanie przy najechaniu */
        }

        /* Sekcja 8 - Wideo YouTube */
        .youtube-video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio (9 / 16 = 0.5625) */
            height: 0;
            overflow: hidden;
            margin-top: 2cqi; /* Odstęp od nagłówka */
        }

        .youtube-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 2.5cqi; /* Bardziej zaokrąglone rogi */
        }

        /* Responsywność - tablet */
        @media (max-width: 768px) {
            .power-adapter-grid {
                grid-template-columns: repeat(2, 1fr); /* Po 2 komórki w rzędzie */
                gap: 2px;
            }
            
            .power-cell.power-wide {
                grid-column: span 1; /* Na tabletach wszystkie komórki zajmują 1 kolumnę */
            }
            
            .power-cell {
                font-size: 14px; /* Zachowano rozmiar czcionki */
                min-height: 25px; /* Zmniejszona minimalna wysokość dla tabletów */
                padding: 6px 6px; /* Zmniejszony padding dla tabletów */
            }
            
            .product-text {
                font-size: 12px;
            }
        }

        /* Responsywność - mobile */
        @media (max-width: 480px) {
            .power-adapter-grid {
                gap: 3px;
            }
            
            .power-cell {
                font-size: 12px;
                padding: 5px 4px; /* Zmniejszony padding dla mobilnych */
                min-height: 20px; /* Zmniejszona minimalna wysokość dla mobilnych */
            }
            
            .product-text {
                font-size: 10px;
            }
        }

        /* Responsywność */
        @media (max-width: 768px) {
            
            html, body {
                overflow-x: hidden;
            }

            .main-container {
                max-width: 95%;
                margin: 0 2.5%;
            }

            .product-header, .discovery-section, .schematic-section, .adapter-section {
                flex-direction: column;
                text-align: center;
                padding: 30px 15px;
            }

            .brand-logo img {
                width: 80vw; /* Logo na 80% szerokości ekranu */
                height: auto; /* Zachowanie proporcji */
                display: block; /* Umożliwia wyśrodkowanie za pomocą margin: auto */
                margin: 0 auto; /* Wyśrodkowanie obrazka */
            }
            
            /* Zwiększenie szerokości i centrowanie wszystkich zielonych linii w widoku mobilnym */
            #rich-content-wrapper .product-title-group .green-line,
            #rich-content-wrapper .discovery-green-line,
            #rich-content-wrapper .schematic-green-line, /* Obejmuje użycie w .schematic-content, .panel-functions-header, .adapter-content-container */
            #rich-content-wrapper .benefit-green-line {
                width: calc(3.906cqi * 3);
                margin-left: auto !important;
                margin-right: auto;
            }
            /* Zapewnienie centrowania dla linii w .panel-functions-header (sekcje 7, 8, 10, 11) w mobilnej wersji */
            .panel-functions-header .schematic-green-line {
                margin-left: auto; /* Nadpisuje desktopowe margin-left: 0 */
                margin-right: auto; /* Dla spójności, choć .schematic-green-line już to ma */
            }
            .adapter-content-container {
                align-items: center; /* Wyśrodkowanie zawartości na mobilnych */
            }

            #rich-content-wrapper .product-pre-title {
                font-size: 24px; /* Zwiększenie dla wersji mobilnej */
            }
            #rich-content-wrapper .product-subtitle {
                font-size: 15px; /* Ustawienie rozmiaru dla wersji mobilnej */
                margin-top: 13px; /* Dodanie marginesu górnego dla wersji mobilnej */
                margin-bottom: 13px;
            }
            #rich-content-wrapper .product-description {
                font-size: 13px; /* Ustawienie rozmiaru dla wersji mobilnej */
                margin-top: 13px; /* Dodanie marginesu górnego dla wersji mobilnej */
            }
            #rich-content-wrapper .product-description > span { /* Ustawienie rozmiaru czcionki dla span wewnątrz product-description */
                font-size: 13px !important; /* Nadpisanie inline stylu dla wersji mobilnej */
            }
            #rich-content-wrapper .product-title { font-size: 36px; }
            .features-grid { grid-template-columns: repeat(3, 1fr); gap: 20px; }
            .discovery-content { width: 100%; z-index: 2; }
            /* Ustawienie rozmiaru czcionki dla H2 na mobilnych */
            #rich-content-wrapper .cta-main-title { 
                font-size: 22px; /* Zmniejszenie dla sekcji 3 */
            }
            #rich-content-wrapper .discovery-title,
            #rich-content-wrapper .schematic-title { 
                font-size: 28px; 
            }
            #rich-content-wrapper .schematic-description {
                font-size: 15px; /* Ustawienie rozmiaru dla opisów schematów na mobilnych */
                text-align: left;
            }
            .discovery-image { position: relative; width: 100%; margin-top: 1.953cqi; }
            .discovery-list { text-align: left; max-width: 39.063cqi; margin: 0 auto; }
            .panel-functions-section { align-items: center; } /* Na mobilnych przywracamy centrowanie dla całej sekcji */
            .panel-functions-header { width: 100%; text-align: center; } /* Nagłówek na całą szerokość i wyśrodkowany tekst */
            .schematic-text-content-area { 
                flex-direction: column; 
                gap: 1.5cqi; 
                align-items: center; /* Wyśrodkowanie .schematic-content i .schematic-description-area */
            }        
            #rich-content-wrapper .panel-function-description {
                font-size: 15px; /* Ustawienie rozmiaru dla opisów funkcji panelu na mobilnych */
                align-items: center; /* Wyśrodkowanie .schematic-content i .schematic-description-area */
            }
            .schematic-description-area, .schematic-content { text-align: center; } /* Wyśrodkowanie tekstu w kolumnach na mobilnych */
            .panel-functions-grid { grid-template-columns: repeat(2, 1fr); } /* 2 kolumny na tabletach */
            #rich-content-wrapper .pilot-image-container {
                margin-top: 0; /* Usunięcie nachodzenia na mobilnych, odstęp kontrolowany przez 'gap' rodzica */
                width: 100%;   /* Obrazek pilota na całą szerokość rodzica */
                height: auto;  /* Wysokość dostosowana do proporcji obrazka */
            }
            .new-youtube-section { /* Dodanie marginesu dolnego do ostatniej sekcji na mobilnych */
                margin-bottom: 30px;
            }
            .gallery-slide { flex-basis: 48%; } /* Dwa slajdy widoczne na tabletach */
        }

        @media (max-width: 480px) {
            body { /* Zapobieganie poziomemu przewijaniu na mobilnych */
                overflow-x: hidden;
            }
            /* Sekcja 8 - Pilot - Powiększenie hotspotów i tooltipów na telefonach */
            :root {
                --hotspot-size: 12cqi;       /* Oryginalnie 4.8cqi, powiększone dla lepszej klikalności */
                --tooltip-padding-x: 5cqi;   /* Oryginalnie 2cqi, przeskalowane proporcjonalnie (2 * 2.5 = 5) */
            }
            /* Mobilne style dla tooltipów - wspólne */
            #rich-content-wrapper .sollis-tooltip { 
                top: 50%; /* Pionowo na środku hotspotu */
                transform: translateY(-50%); /* Wyśrodkowanie tooltipa w pionie względem jego własnej wysokości */
                height: var(--hotspot-size); /* Wysokość tooltipa równa wysokości hotspotu */ /* Zostawiamy tę wysokość, bo jest w :root */
                font-size: calc(var(--hotspot-size) * 0.35); /* Zmniejszona czcionka w tooltipie */
                border-radius: calc(var(--hotspot-size) / 2); /* Dostosowany border-radius do nowej wysokości */
                padding-top: 0 !important; /* Dodano !important */
                padding-bottom: 0 !important; /* Dodano !important */
            }

            /* --- Tooltipy w SEKCJI 6 (Schemat Girlandy) - Mobilne --- */
            /* Mobilne (Sekcja 6): Tooltip domyślnie (bez .position-left) po PRAWEJ stronie hotspotu */
            #rich-content-wrapper .schematic-image-container .sollis-tooltip:not(.position-left) { /* Lewa krawędź tooltipa na równi z lewą krawędzią hotspotu */
                left: 0px; 
            } 
            /* Mobilne (Sekcja 6): Tooltip z .position-left po LEWEJ stronie hotspotu */
            #rich-content-wrapper .schematic-image-container .sollis-tooltip.position-left { /* Prawa krawędź tooltipa na równi z prawą krawędzią hotspotu */
                right: 0px; 
                left: auto; /* Zapobiega konfliktowi z 'left' z mniej specyficznych reguł */
            }

            /* --- Tooltipy w SEKCJI 8 (Pilot) - Mobilne --- */
            /* Przywrócenie centrowania tooltipów dla sekcji pilota na mobilnych */
            #rich-content-wrapper .pilot-image-container .sollis-tooltip {
                left: 50%;
                transform: translate(-50%, -50%); 
            }

            /* Zakładając, że .feature-description na desktopie to 1.0cqi dla proporcji */
            .feature-description { 
                font-size: 11px; /* Powiększone o 50% (było 7px) */
            }
            #rich-content-wrapper .discovery-title { font-size: 28px !important; } /* Zastępuje 2.344cqi */
            #rich-content-wrapper .discovery-subtitle { 
                margin-top: 10px;
                font-size: 15px;
                text-align: left;
            } /* Powiększone o 50% (było 10px) */
            .discovery-green-line { /* Wyśrodkowanie linii w sekcji 4 na mobilnych */
                margin: 1.464cqi auto 2.442cqi auto;
            }
            .discovery-list { 
                font-size: 15px; /* Powiększone o 50% (było 10px) */
                max-width: 100%; /* Lista na całą szerokość .discovery-content */
                margin-left: 0;  /* Usunięcie automatycznego marginesu */
                margin-right: 0; /* Usunięcie automatycznego marginesu */
            }

            /* Sekcja 10 - Galeria Inspiracji - Mobile (telefony) */
            .gallery-slide {
                flex-basis: 100%; /* Jeden obrazek na raz */
                /* aspect-ratio: 4 / 3; /* Zachowanie proporcji, już ustawione globalnie */
            }

            .gallery-arrow {
                width: 36px;  /* Powiększone przyciski */
                height: 36px;
                font-size: 20px; /* Większa ikona strzałki */
                top: 50%; /* Uproszczone centrowanie pionowe na mobilnych */
            }
            .gallery-arrow.prev { left: 10px; } /* Dostosowane pozycjonowanie od krawędzi */
            .gallery-arrow.next { right: 10px; }
        }
        @media (max-width: 480px) {
            #rich-content-wrapper .gallery-dots-nav .dot {
                width: 10px;    /* Ustawienie szerokości na 10px dla mobilnych */
                height: 10px;   /* Ustawienie wysokości na 10px dla mobilnych */
                margin: 0 4px;  /* Stały margines w px dla mobilnych */
            }
        }
    </style>
</head>
<body>
    <!-- Reszta kodu HTML bez zmian -->
    <div class="main-container" id="rich-content-wrapper">
        <!-- Sekcja 1: Header produktu -->
        <section class="section product-header">
            <div class="product-info"> <!-- Zmieniono product-info na product-info -->
                <div class="brand-logo">
                    <!-- Obrazek: Logo marki -->
                    <img src="https://leddo.pl/data/include/cms/RICH_CONTENT/LUMSOLZES/lumiled_logo_kolor_trademark_2.webp" alt="Lumiled Logo">
                </div>
                <div class="product-title-group">
                    <div class="product-pre-title">ZASILACZ SIECIOWY</div> <!-- Tekst: Przedtytuł produktu -->
                    <div class="product-title">ADAPTER</div> <!-- Tekst: Główny tytuł produktu -->
                    <div class="product-subtitle">4,8W</div> <!-- Tekst: Podtytuł produktu -->
                    <div class="green-line"></div>
                </div>
                <div class="product-description"> <!-- Zmieniono product-description na product-description -->
                    <span style="font-size: 1.8cqi; margin-bottom: 0.4cqi; display: block; font-weight: 600;">Energooszędny i efektywny</span> <!-- Tekst: Dodatkowy opis produktu -->
                    <span style="font-size: 1.3cqi;">Ładowarka konwertuje standardowe napięcie sieciowe 220-240V<br> <!-- Tekst: Główny opis produktu -->
                    na 24V, co zapewnia niezawodne i bezpieczne zasilanie.</span>
                </div>
            </div>
            <div class="product-image">
                <!-- Obrazek: Główne zdjęcie produktu -->
                <img src="https://leddo.pl/hpeciai/5163849c47743d70c541792c352e0c57/pol_pl_Adapter-Zasilajacy-4-8W-do-Girland-Solarnych-Ladowarka-24V-230V-34289_5.webp" alt="SOLLIS Girlanda">
            </div>
        </section>

        <!-- Sekcja 2: Cechy produktu -->
        <section class="section features-section">
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon">
                        <!-- Obrazek: Ikona cechy 1 (adapter) -->
                        <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_-34.webp" alt="Energooszczędność LED">
                    </div>
                    <div class="feature-description">Wymiary produktu 9.9x4.2 cm</div> <!-- Tekst: Opis cechy 1 -->
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <!-- Obrazek: Ikona cechy 2 (adapter) -->
                        <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_-35.webp" alt="Zasilanie Słoneczne">
                    </div>
                    <div class="feature-description">Podwyższona klasa odpornosci</div> <!-- Tekst: Opis cechy 2 -->
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <!-- Obrazek: Ikona cechy 3 (adapter) -->
                        <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_-36.webp" alt="Pilot Zdalnego Sterowania">
                    </div>
                    <div class="feature-description">Moc adaptera 4.8W</div> <!-- Tekst: Opis cechy 3 -->
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <!-- Obrazek: Ikona cechy 4 (adapter) -->
                        <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_-37.webp" alt="Odporność na Warunki Atmosferyczne">
                    </div>
                    <div class="feature-description">Napięcie wejściowe 220-240 V</div> <!-- Tekst: Opis cechy 4 -->
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <!-- Obrazek: Ikona cechy 5 (adapter) -->
                        <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_-38.webp" alt="Łatwa Instalacja">
                    </div>
                    <div class="feature-description">Napięcie wyjściowe 24 V</div> <!-- Tekst: Opis cechy 5 -->
                </div>
            </div>
        </section>
        
        <!-- Sekcja 3: Call to action -->
        <section class="section cta-section">
            <h2 class="cta-main-title" id="cta-title">Poznaj możliwości adaptera do girland solarnych</h2> <!-- Tekst: Nagłówek CTA -->
        </section>
        
        <!-- Sekcja 4: Schemat Girlandy -->
        <section class="section schematic-section">
            <div class="schematic-text-content-area">
                <div class="schematic-content"> <!-- Prawa kolumna: tytuł, linia, podtytuł -->
                    <h2 class="schematic-title">Wymień panel solarny<br>na adapter</h2> <!-- Tekst: Tytuł sekcji schematu -->
                    <div class="schematic-green-line"></div>
                    <h3 class="schematic-subtitle">SCHEMAT GIRLANDY</h3> <!-- Tekst: Podtytuł sekcji schematu -->
                </div>
                <div class="schematic-description-area"> <!-- Przeniesiony opis na prawą stronę -->
                    <p class="schematic-description">
                        <!-- Tekst: Opis schematu girlandy -->
                        Efektowne oświetlenie bez względu na pogodę, wystarczy podpiąć do sieci, aby cieszyć się światłem bez zakłóceń.
                    </p>
                </div>
            </div>
            <div class="schematic-image-container">
                <!-- Obrazek: Schemat girlandy -->
                <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_-24.webp" alt="Schemat Girlandy Sollis">
                <div class="schematic-image-caption">
                    <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pikto_uwaga-39.webp" alt="Kompatybilność" class="schematic-caption-icon">
                    <p>UWAGA! Po podłączeniu do adaptera, użycie pilota sterującego nie jest możliwe, gdyż funkcja sterująca znajduje<br>się w panelu solarnym.</p>
                </div>
            </div>
        </section>
        
        <!-- Sekcja 5: Adapter i jego funkcje -->
        <section class="section panel-functions-section pilot-section-custom-bg">
            <div class="panel-functions-header">
                <h2 class="schematic-title">Adapter do girlandy<wbr>solarnej</h2> <!-- Tekst: Tytuł sekcji pilota -->
                <div class="schematic-green-line"></div>
                <h3 class="schematic-subtitle">I JEGO FUNKCJE</h3> <!-- Tekst: Podtytuł sekcji pilota -->
            </div>
            <div class="schematic-image-container pilot-image-container">
                <!-- Obrazek: Pilot sterujący -->
                <img src="https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_-25.webp?v=1750668529346" alt="Adapter do girlandy Sollis z opisem funkcji">

                <!-- Hotspot 1: ON/OFF -->
                <button class="sollis-hotspot" style="top: 22%; left: 47%;" aria-label="Włącz/Wyłącz">
                    <span class="hotspot-plus">+</span>
                    <div class="sollis-tooltip">Zresetuj timer</div> <!-- Tekst: Tooltip dla hotspotu 1 (pilot) -->
                </button>

                <!-- Hotspot 2: MODE -->
                <button class="sollis-hotspot" style="top: 27%; left: 84%;" aria-label="Tryby świecenia">
                    <span class="hotspot-plus">+</span>
                    <div class="sollis-tooltip">Wyłącz timer</div> <!-- Tekst: Tooltip dla hotspotu 2 (pilot) -->
                </button>

                <!-- Hotspot 3: 3H Timer -->
                <button class="sollis-hotspot" style="top: 46%; left: 0%;" aria-label="Timer 3 godziny">
                    <span class="hotspot-plus">+</span>
                    <div class="sollis-tooltip">Ustaw limit czasowy na 4H/6H/8H</div> <!-- Tekst: Tooltip dla hotspotu 3 (pilot) -->
                </button>
                
                <!-- Hotspot 4: 8H Timer -->
                <button class="sollis-hotspot" style="top: 64%; left: 32%;" aria-label="Timer 8 godzin">
                    <span class="hotspot-plus">+</span>
                    <div class="sollis-tooltip">Włącznik ON/OFF</div> <!-- Tekst: Tooltip dla hotspotu 4 (pilot) -->
                </button>
            </div>
        </section>

        <!-- Sekcja 6: Dobór mocy-->
        <section class="section panel-functions-section pilot-section-custom-bg">
            <div class="panel-functions-header">
                <h2 class="schematic-title">Dobierz odpowiednią moc<br>adaptera do girlandy</h2> <!-- Tekst: Tytuł sekcji pilota -->
                <div class="schematic-green-line"></div>
                <h3 class="schematic-subtitle">DOSTĘPNE MODELE</h3> <!-- Tekst: Podtytuł sekcji pilota -->
            </div>
            <div class="power-grid-container">
                <div class="power-adapter-grid">
                    <!-- Pierwszy rząd - moce adapterów -->
                    <div class="power-cell power-wide">4,8 W</div>
                    <div class="power-cell power-wide">6 W</div>
                    <div class="power-cell">6,6 W</div>
                    <div class="power-cell">8 W</div>
                    <div class="power-cell">9 W</div>
                    
                    <!-- Drugi rząd - produkty z obrazkami (zmienione na linki) -->
                    <a href="https://leddo.pl/girlanda-solarna-ogrodowa-20x-led-ozdobne-kuleczki-10-55m-2700k-ciepla-pilot-callis2-lumiled-31062.html?query_id=6" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_callis2_20.webp');">
                        <div class="product-text">CALLIS 2<br>20 LED</div>
                    </a>
                    <a href="https://leddo.pl/pl/products/girlanda-solarna-ogrodowa-15x-led-ozdobne-zarowki-10m-pilot-ip65-2700k-ciepla-sollis-lumiled-34286.html?query_id=1" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_sollis_15.webp');">
                        <div class="product-text">SOLLIS<br>15 LED</div>
                    </a>
                    <a href="https://leddo.pl/girlanda-solarna-ogrodowa-30x-led-ozdobne-kuleczki-15-05m-2700k-ciepla-pilot-callis2-lumiled-31065.html?query_id=6" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_callis_2_30.webp');">
                        <div class="product-text">CALLIS 2<br>30 LED</div>
                    </a>
                    <a href="https://leddo.pl/girlanda-solarna-ogrodowa-30x-led-ozdobne-zarowki-9-8m-2700k-ciepla-pilot-pyris-lumiled-31068.html?query_id=8" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pyris_30.webp');">
                        <div class="product-text">PYRIS<br>30 LED</div>
                    </a>
                    <a href="https://leddo.pl/pl/products/girlanda-solarna-ogrodowa-22x-led-ozdobne-zarowki-15m-pilot-ip65-2700k-ciepla-sollis-lumiled-34287.html?query_id=1" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_sollis_22.webp');">
                        <div class="product-text">SOLLIS<br>22 LED</div>
                    </a>
                    <a href="https://leddo.pl/girlanda-solarna-ogrodowa-40x-led-ozdobne-zarowki-14-5m-2700k-ciepla-pilot-pyris-lumiled-31069.html?query_id=8" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_pyris_40.webp');">
                        <div class="product-text">PYRIS<br>40 LED</div>
                    </a>
                    <a href="https://leddo.pl/pl/products/girlanda-solarna-ogrodowa-30x-led-ozdobne-zarowki-20m-pilot-ip65-2700k-ciepla-sollis-lumiled-34288.html?query_id=1" class="product-cell" style="background-image: url('https://demo7724-pl.yourtechnicaldomain.com/data/include/cms/rich_content/photo_5904422794750_girlanda/adapter_sollis_30.webp');">
                        <div class="product-text">SOLLIS<br>30 LED</div>
                    </a>
                </div>
            </div>
        </section>

       <!-- Sekcja 8: Wideo YouTube -->
        <section class="section panel-functions-section new-youtube-section">
            <div class="panel-functions-header">
                <h2 class="schematic-title">Poznaj girlandy solarne Lumiled</h2> <!-- Tekst: Tytuł sekcji wideo -->
                <div class="schematic-green-line"></div>
            </div>
            <div class="youtube-video-container">
                <!-- Wideo: ID filmu YouTube do zmiany w src -->
                <iframe 
                    src="https://www.youtube.com/embed/5I8LY47C60U" 
                    title="YouTube video player" 
                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen></iframe>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            /* Uogólniony kod dla hotspotów */
            const hotspotContainers = document.querySelectorAll('.pilot-image-container, .schematic-image-container'); 

            hotspotContainers.forEach(container => {
                const hotspotsInContainer = container.querySelectorAll('.sollis-hotspot');

                hotspotsInContainer.forEach(hotspot => {
                    hotspot.setAttribute('aria-expanded', 'false'); /* Dostępność */
                    hotspot.addEventListener('click', function(event) {
                        event.stopPropagation();
                        const isCurrentlyActive = this.classList.contains('active');
                        
                        /* Zamknij wszystkie inne hotspoty NA CAŁEJ STRONIE */
                        document.querySelectorAll('.sollis-hotspot.active').forEach(hs => {
                            if (hs !== this) {
                                hs.classList.remove('active');
                                hs.setAttribute('aria-expanded', 'false');
                            }
                        });
                        
                        this.classList.toggle('active');
                        this.setAttribute('aria-expanded', this.classList.contains('active'));
                    });
                });
            });

            /* Globalny listener do zamykania hotspotów po kliknięciu poza nimi */
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.sollis-hotspot')) {
                    document.querySelectorAll('.sollis-hotspot.active').forEach(hotspot => {
                        hotspot.classList.remove('active');
                        hotspot.setAttribute('aria-expanded', 'false');
                    });
                }
            });

            /* Kod dla galerii inspiracji */
            const gallery = document.getElementById('inspiration-gallery');
            if (gallery) {
                const container = gallery.querySelector('.gallery-scroll-container');
                const slides = gallery.querySelectorAll('.gallery-slide'); /* Dodano deklarację slides */
                const prevButton = gallery.querySelector('.gallery-arrow.prev');
                const nextButton = gallery.querySelector('.gallery-arrow.next');
                const dotsNav = gallery.querySelector('.gallery-dots-nav');

                if (slides.length > 0) {
                    // Generuj kropki
                    slides.forEach((_, index) => {
                        const dot = document.createElement('button'); /* Dodano deklarację dot */
                        dot.classList.add('dot');
                        dot.dataset.index = index;
                        dot.setAttribute('aria-label', `Idź do slajdu ${index + 1}`); /* Poprawiono literówkę w aria-label */
                        dotsNav.appendChild(dot);
                    });

                    const dots = dotsNav.querySelectorAll('.dot');

                    const updateGalleryState = () => {
                        const scrollLeft = container.scrollLeft;
                        const scrollWidth = container.scrollWidth;
                        const clientWidth = container.clientWidth;

                        /* Aktualizacja przycisków */
                        prevButton.disabled = scrollLeft < 1;
                        nextButton.disabled = scrollLeft + clientWidth >= scrollWidth - 1;

                        /* Aktualizacja kropek */
                        const slideWidth = slides[0].offsetWidth;
                        /* const gap = parseFloat(getComputedStyle(container).gap); // Gap jest teraz 0 */
                        const currentIndex = Math.round(scrollLeft / slideWidth);
                        
                        dots.forEach((dot, index) => {
                            dot.classList.toggle('active', index === currentIndex);
                        });
                    };

                    prevButton.addEventListener('click', () => { // Kliknięcie strzałki "wstecz"
                        const slideWidth = slides[0].offsetWidth; /* Dodano deklarację slideWidth */
                        /* const gap = parseFloat(getComputedStyle(container).gap); // Gap jest teraz 0 */
                        container.scrollLeft -= slideWidth;
                    });

                    nextButton.addEventListener('click', () => { // Kliknięcie strzałki "dalej"
                        const slideWidth = slides[0].offsetWidth; /* Dodano deklarację slideWidth */
                        /* const gap = parseFloat(getComputedStyle(container).gap); // Gap jest teraz 0 */
                        container.scrollLeft += slideWidth;
                    });

                    dots.forEach(dot => {
                        dot.addEventListener('click', () => { // Kliknięcie kropki nawigacyjnej
                            const index = parseInt(dot.dataset.index);
                            const slideWidth = slides[0].offsetWidth;
                            /* const gap = parseFloat(getComputedStyle(container).gap); // Gap jest teraz 0 */
                            container.scrollLeft = index * slideWidth; /* Usunięto gap, bo jest 0 */
                        });
                    });
                    
                    // Używamy IntersectionObserver dla lepszej wydajności aktualizacji kropek
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                             if(entry.isIntersecting) {
                                 updateGalleryState();
                             }
                        });
                    }, { root: container, threshold: 0.1 });
                    
                    observer.observe(gallery);
                    
                    container.addEventListener('scroll', updateGalleryState);
                    window.addEventListener('resize', updateGalleryState);
                    updateGalleryState(); // Inicjalny stan
                }

                /* Dodanie obsługi gestów przewijania dla galerii */
                if (container && slides.length > 0) {
                    let touchstartX = 0;
                    let touchendX = 0;
                    const swipeThreshold = 50; // Minimalna odległość w pikselach do uznania za swipe

                    container.addEventListener('touchstart', function(event) {
                        touchstartX = event.changedTouches[0].screenX;
                    }, { passive: true }); // Użycie passive: true dla lepszej wydajności przewijania

                    container.addEventListener('touchend', function(event) {
                        touchendX = event.changedTouches[0].screenX;
                        handleSwipeGesture();
                    }, false);

                    function handleSwipeGesture() {
                        if (touchendX < touchstartX - swipeThreshold) { /* Przesunięcie w lewo */
                            if (nextButton && !nextButton.disabled) nextButton.click();
                        } else if (touchendX > touchstartX + swipeThreshold) { /* Przesunięcie w prawo */
                            if (prevButton && !prevButton.disabled) prevButton.click();
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
